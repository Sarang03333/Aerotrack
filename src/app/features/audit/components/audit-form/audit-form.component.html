<div class="container py-3">
  <div class="card shadow-sm rounded-4">
    <div class="card-body">
      <h2 class="display-6 mb-3 fw-bold">Create Audit Log</h2>

      
      <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
       
        <div class="row g-3">
          <div class="col-md-6">
            <label for="auditId" class="form-label">Audit ID</label>
            <input
              id="auditId"
              type="text"
              class="form-control form-control-lg rounded-3"
              placeholder="Format: AA-0001"
              formControlName="auditID"
              [readonly]="isEdit"
            />
            
            <div class="form-text text-muted">Format: AA-0001</div>
            <div class="invalid-feedback d-block" *ngIf="form.controls.auditID.touched && form.controls.auditID.invalid">
              <span *ngIf="form.controls.auditID.errors?.['required']">Audit ID is required.</span>
              <span *ngIf="form.controls.auditID.errors?.['pattern']">Use pattern AA-0001 (two uppercase letters, dash, four digits).</span>
            </div>
          </div>

          <div class="col-md-6">
            <label for="aircraftId" class="form-label">Aircraft ID</label>
            <input
              id="aircraftId"
              type="text"
              class="form-control form-control-lg rounded-3"
              formControlName="aircraftID"
            />
            <div class="invalid-feedback d-block" *ngIf="form.controls.aircraftID.touched && form.controls.aircraftID.invalid">
              Aircraft ID is required.
            </div>
          </div>
        </div>

        
        <div class="mt-3">
          <label for="findings" class="form-label">Findings</label>
          <textarea
            id="findings"
            class="form-control form-control-lg rounded-3"
            rows="3"
            formControlName="findings"
          ></textarea>
          <div class="invalid-feedback d-block" *ngIf="form.controls.findings.touched && form.controls.findings.invalid">
            <span *ngIf="form.controls.findings.errors?.['required']">Findings are required.</span>
            <span *ngIf="form.controls.findings.errors?.['minlength']">Please enter at least 3 characters.</span>
          </div>
        </div>

       
        <div class="mt-3">
          <label for="date" class="form-label">Date</label>
          <input
            id="date"
            type="date"
            class="form-control form-control-lg rounded-3"
            formControlName="date"
          />
          <div class="invalid-feedback d-block" *ngIf="form.controls.date.touched && form.controls.date.invalid">
            Date is required.
          </div>
        </div>

        
        <div class="mt-4 d-flex gap-2">
          <button
            type="submit"
            class="btn btn-primary btn-lg rounded-3"
            [disabled]="form.invalid"
          >
            {{ isEdit ? 'Update Audit' : 'Create Audit' }}
          </button>

          <a class="btn btn-outline-primary btn-lg rounded-3" routerLink="/audit">
            Cancel
          </a>
        </div>
      </form>
    </div>
  </div>
</div>
