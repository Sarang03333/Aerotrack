{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../core/services/reports.service\";\nimport * as i2 from \"@angular/common\";\nexport let ReportsDashboardComponent = /*#__PURE__*/(() => {\n  class ReportsDashboardComponent {\n    constructor(reports) {\n      this.reports = reports;\n      this.lastCSVUrl = null;\n      this.report = this.reports.generate();\n    }\n    regenerate() {\n      this.report = this.reports.generate();\n    }\n    export() {\n      const blob = this.reports.downloadCSV(this.report);\n      const url = URL.createObjectURL(blob);\n      this.lastCSVUrl = url;\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `fleet-report-${this.report.reportID}.csv`;\n      a.click();\n      URL.revokeObjectURL(url);\n    }\n    static {\n      this.ɵfac = function ReportsDashboardComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ReportsDashboardComponent)(i0.ɵɵdirectiveInject(i1.ReportsService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ReportsDashboardComponent,\n        selectors: [[\"app-reports-dashboard\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 30,\n        vars: 7,\n        consts: [[1, \"card\"], [2, \"margin-top\", \"0\"], [1, \"kpi-cards\"], [1, \"kpi\"], [1, \"val\"], [1, \"form-actions\", 2, \"margin-top\", \"1rem\"], [1, \"btn\", 3, \"click\"], [1, \"btn\", \"accent\", 3, \"click\"]],\n        template: function ReportsDashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n            i0.ɵɵtext(2, \"Fleet Performance Analytics\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\");\n            i0.ɵɵtext(6, \"Maintenance Cost (mock)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"div\", 4);\n            i0.ɵɵtext(8);\n            i0.ɵɵpipe(9, \"number\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"div\", 3)(11, \"div\");\n            i0.ɵɵtext(12, \"Safety Performance (mock)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"div\", 4);\n            i0.ɵɵtext(14);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(15, \"div\", 3)(16, \"div\");\n            i0.ɵɵtext(17, \"Downtime (hrs)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"div\", 4);\n            i0.ɵɵtext(19);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 3)(21, \"div\");\n            i0.ɵɵtext(22, \"Generated\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"div\", 4);\n            i0.ɵɵtext(24);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(25, \"div\", 5)(26, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function ReportsDashboardComponent_Template_button_click_26_listener() {\n              return ctx.regenerate();\n            });\n            i0.ɵɵtext(27, \"Regenerate\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function ReportsDashboardComponent_Template_button_click_28_listener() {\n              return ctx.export();\n            });\n            i0.ɵɵtext(29, \"Export CSV\");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(8);\n            i0.ɵɵtextInterpolate1(\"\\u20B9 \", i0.ɵɵpipeBind2(9, 4, ctx.report.metrics.costAnalysis, \"1.0-0\"), \"\");\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate1(\"\", ctx.report.metrics.safetyPerformance, \" / 100\");\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.report.metrics.downtimeHours);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate(ctx.report.generatedDate);\n          }\n        },\n        dependencies: [CommonModule, i2.DecimalPipe],\n        encapsulation: 2\n      });\n    }\n  }\n  return ReportsDashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}